\documentclass[../main-v1.tex]{subfiles}
\begin{document}
\chapter{Data Lifetimes and Preservation: \hideme{coll-preservation.tex Norman, Clarke, Fuess - needed }}
\label{ch:pres}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\section{xyz}
%\label{sec:pres:xyz} 
\section{Formal Data Management Policy}

This section describes policies and plans governing the lifecycle of scientific data from the DUNE family of detectors and derived data products from such.

The current authoritative version of the DUNE Data Management plan is maintained as DUNE DocDB 5759
\cite{bib:docdb5759} and forms the basis of the data management plans for institutions and sites within the collaboration.
The plan encompasses Raw, Analysis, and Scientific Results data tiers.  That version is the authoritative source and may be updated as needed.  This chapter summarizes the lifecyle elements.

DUNE and Fermilab data management policies are consistent with U.S. Department of Energy (DOE) policy "DOE Policy for Digital Research Data Management"\footnote{
\href{https://www.energy.gov/datamanagement/doe-policy-digital-research-data-management}{https://www.energy.gov/datamanagement/doe-policy-digital-research-data-management}}.
The host lab portions of the data management plan are consistent with the documented Fermilab "Data Management Practices and Policies for Fermilab Experiments"
\footnote{\href{https://computing.fnal.gov/atwork/data-management-practices-and-policies-for-fermilab-experiments/}{https://computing.fnal.gov/atwork/data-management-practices-and-policies-for-fermilab-experiments/}}.

The DOE policy references "DOE Policy for Digital Research Data Management: Suggested Elements for a Data Management Plan"\footnote{
\href{https://www.energy.gov/datamanagement/doe-policy-digital-research-data-management-suggested-elements-data-management-plan}{https://www.energy.gov/datamanagement/doe-policy-digital-research-data-management-suggested-elements-data-management-plan}}.
Following these suggested elements, the DUNE data management plan addresses:
\subsection{
 Data Types and Sources}
The data lifecycle policies are applicable to the Raw instrument data from the DUNE detector elements as noted within the DUNE Data Management Plan.  The policies will also be applicable to certain Simulation, Analysis and Scientific Results data as deemed appropriate by the collaboration.  Policies are also applicable to the metadata needed to understand and catalog the above data types, along with configuration and calibration information.  In addition, to interpret and understand the data it is necessary to store and document software code bases used in reconstruction and analysis.

Test, commissioning, simulation, reconstruction and other generated data is expected to have a finite period of usefulness.  As such a data lifecycle plan must be followed to include lifetime information in the corresponding metadata at time of creation.  At the end of the lifetime a review process is instantiated to determine if the lifetime should be extended or the data may be deleted.

\subsection{ Content and Format}
The scientific data contains raw values from the various detector elements and derived values from analysis of the raw information.  The data is stored in standard HEP formats (ROOT and HDF5) and various databases (postgresql), all of which may evolve over time.  Software and documentation will be stored in industry standard repositories (github).

\subsection{ Data Sharing}
All scientific data is available to members of the DUNE collaboration and may be disseminated to collaborating institutions.  The data is globally accessible via the network to authenticated and authorized users.  The host lab is the principle location for data, but data may be copied to other collaborating sites for expediency of access and redundancy.
Data that is to be directly linked to publications (for example tables) shall be granted the same access as the publication.  In the future meaningful and accessible data sets will be made publically available.

\subsection{Data Preservation}
Fermilab, as the host laboratory, will maintain accessible copies of all raw data for a period dictated by lab and DOE policies, generally at least five years past end of data taking.  A longer retention period may be negotiated.  Processed and derived data is retained for a lifetime deemed useful by the collaboration, which for ultimate processed results is also minimally five years past end of data taking.  Published and other publicly accessible data sets will be retained as long as technically viable. The data will reside on COTS systems, requiring periodic migration to new technologies.

\subsection{Protection}
Raw and other valuable derived data will have a copy on tape at the host lab as the current solution for reliable storage.  The tape systems include periodic integrity tests.  Deleted data is only marked for removal, with a final review before tapes are destroyed or recycled.  Raw data and other highly valuable derived data will also have an additional redundant copy on external collaboration resources.  Tape and disk resident data is protected by storage system authentication and authorization controls.

\subsection{Rationale}
DUNE raw data and derived data products are unique and represent the return on an international investment in neutrino science.
% \dword{dune} has a formal data management plan which is described in %DUNE Docdb entry 5759 
% Reference~\cite{bib:docdb5759} and forms the basis of the data management plans for institutions and sites within the collaboration.

% The main %points 
% topics covered in the plan are:

% \begin{itemize} \item Preservation of raw data (aside from commissioning and testing data) for the lifetime of the experiment;
% \item  Preservation of the metadata needed to understand the raw data, including configuration and calibration information, as well as descriptive metadata for the lifetime of the experiment;
% \item Preservation of the documentation for the reconstruction chain.  This may be problematic as we largely rely on wiki pages rather than formal written documentation and wikis evolve quickly; 
% \item Preservation of the code bases used to process those raw data for the lifetime of the experiment; and
% \item Simulation and reconstruction samples that may be reproduced, given that the raw data and preserved code are kept for shorter lifetimes. 
% \end{itemize}
%\fixme{(anne) first bullet sounds like raw is kept for lifetime; last bullet sounds like it's not; pls clarify. Last bullet was not unambiguously clear to me}
\section{Policy Implementation}
Table~\ref{tab:est:retention} in Chapter~\ref{ch:est} describes the current retention policies, with simulated and reconstructed data samples retained on tape for 10 years. 

One of the major concerns for long-term preservation of data is the evolution of storage,  operating systems and data formats. Long-lifetime binary data may need to be migrated between storage technologies multiple times.   Our current experience is that data written in the \dword{root} format is readable for at least a decade.   

As operating systems and compilers evolve, old code may cease to work or yield consistent numeric results. %\fixme{HMS - changed to consistent'give the same answer'? as what? (anne)} 
We will not have the resources to perform continuous integration tests on all code versions, so it is likely that reviving old codes will require substantial effort. The priority will be ensuring that the raw data remain accessible. 

Long term, we anticipate that the smaller reduced samples, not the PB of reconstructed raw data or simulation, will form the legacy samples from the experiment.  Those formats have not yet stabilized, but will need to be carefully documented and duplicated for use past the formal end of the experiment.



%Needs a rewrite of the official DUNE data preservation policy (now in docdb) with some additional thoughts on how it fits in with EU/CERN/DOE policies. 
\end{document}